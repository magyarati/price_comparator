{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import Filters from'./components/Filters';import ProductList from'./components/ProductList';import PriceHistoryChart from'./components/PriceHistoryChart';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const[products,setProducts]=useState([]);const[store,setStore]=useState('');const[selectedName,setSelectedName]=useState('');const[dateFilter,setDateFilter]=useState('');useEffect(()=>{const params=new URLSearchParams();if(store)params.append('store',store);if(dateFilter)params.append('date',dateFilter);axios.get(\"/api/products?\".concat(params.toString())).then(res=>setProducts(res.data)).catch(console.error);},[store,dateFilter]);const productNames=Array.from(new Set(products.map(p=>p.name))).sort();const filtered=products.filter(p=>!selectedName||p.name===selectedName);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl mb-4\",children:\"Price Comparator\"}),/*#__PURE__*/_jsx(Filters,{store:store,setStore:setStore,selectedName:selectedName,setSelectedName:setSelectedName,dateFilter:dateFilter,setDateFilter:setDateFilter,productNames:productNames}),/*#__PURE__*/_jsx(ProductList,{products:filtered}),filtered.length>0&&/*#__PURE__*/_jsx(PriceHistoryChart,{product:filtered[0]})]});}","map":{"version":3,"names":["React","useState","useEffect","axios","Filters","ProductList","PriceHistoryChart","jsx","_jsx","jsxs","_jsxs","App","products","setProducts","store","setStore","selectedName","setSelectedName","dateFilter","setDateFilter","params","URLSearchParams","append","get","concat","toString","then","res","data","catch","console","error","productNames","Array","from","Set","map","p","name","sort","filtered","filter","className","children","length","product"],"sources":["/Users/magyarattila/Documents/GitHub/price_comparator/frontend/src/App.jsx"],"sourcesContent":["import React, {useState,useEffect} from 'react';\nimport axios from 'axios';\nimport Filters from './components/Filters';\nimport ProductList from './components/ProductList';\nimport PriceHistoryChart from './components/PriceHistoryChart';\n\nexport default function App(){\n  const [products,setProducts]=useState([]);\n  const [store,setStore]=useState('');\n  const [selectedName,setSelectedName]=useState('');\n  const [dateFilter,setDateFilter]=useState('');\n\n  useEffect(()=>{\n    const params=new URLSearchParams();\n    if(store) params.append('store',store);\n    if(dateFilter) params.append('date',dateFilter);\n    axios.get(`/api/products?${params.toString()}`)\n      .then(res=>setProducts(res.data))\n      .catch(console.error);\n  },[store,dateFilter]);\n\n  const productNames=Array.from(new Set(products.map(p=>p.name))).sort();\n  const filtered=products.filter(p=> !selectedName||p.name===selectedName);\n\n  return (\n    <div className=\"p-4\">\n      <h1 className=\"text-xl mb-4\">Price Comparator</h1>\n      <Filters\n        store={store} setStore={setStore}\n        selectedName={selectedName} setSelectedName={setSelectedName}\n        dateFilter={dateFilter} setDateFilter={setDateFilter}\n        productNames={productNames}\n      />\n      <ProductList products={filtered} />\n      {filtered.length>0 && <PriceHistoryChart product={filtered[0]} />}\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAACC,SAAS,KAAO,OAAO,CAC/C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,OAAO,KAAM,sBAAsB,CAC1C,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,iBAAiB,KAAM,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/D,cAAe,SAAS,CAAAC,GAAGA,CAAA,CAAE,CAC3B,KAAM,CAACC,QAAQ,CAACC,WAAW,CAAC,CAACZ,QAAQ,CAAC,EAAE,CAAC,CACzC,KAAM,CAACa,KAAK,CAACC,QAAQ,CAAC,CAACd,QAAQ,CAAC,EAAE,CAAC,CACnC,KAAM,CAACe,YAAY,CAACC,eAAe,CAAC,CAAChB,QAAQ,CAAC,EAAE,CAAC,CACjD,KAAM,CAACiB,UAAU,CAACC,aAAa,CAAC,CAAClB,QAAQ,CAAC,EAAE,CAAC,CAE7CC,SAAS,CAAC,IAAI,CACZ,KAAM,CAAAkB,MAAM,CAAC,GAAI,CAAAC,eAAe,CAAC,CAAC,CAClC,GAAGP,KAAK,CAAEM,MAAM,CAACE,MAAM,CAAC,OAAO,CAACR,KAAK,CAAC,CACtC,GAAGI,UAAU,CAAEE,MAAM,CAACE,MAAM,CAAC,MAAM,CAACJ,UAAU,CAAC,CAC/Cf,KAAK,CAACoB,GAAG,kBAAAC,MAAA,CAAkBJ,MAAM,CAACK,QAAQ,CAAC,CAAC,CAAE,CAAC,CAC5CC,IAAI,CAACC,GAAG,EAAEd,WAAW,CAACc,GAAG,CAACC,IAAI,CAAC,CAAC,CAChCC,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC,CACzB,CAAC,CAAC,CAACjB,KAAK,CAACI,UAAU,CAAC,CAAC,CAErB,KAAM,CAAAc,YAAY,CAACC,KAAK,CAACC,IAAI,CAAC,GAAI,CAAAC,GAAG,CAACvB,QAAQ,CAACwB,GAAG,CAACC,CAAC,EAAEA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CACtE,KAAM,CAAAC,QAAQ,CAAC5B,QAAQ,CAAC6B,MAAM,CAACJ,CAAC,EAAG,CAACrB,YAAY,EAAEqB,CAAC,CAACC,IAAI,GAAGtB,YAAY,CAAC,CAExE,mBACEN,KAAA,QAAKgC,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBnC,IAAA,OAAIkC,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,kBAAgB,CAAI,CAAC,cAClDnC,IAAA,CAACJ,OAAO,EACNU,KAAK,CAAEA,KAAM,CAACC,QAAQ,CAAEA,QAAS,CACjCC,YAAY,CAAEA,YAAa,CAACC,eAAe,CAAEA,eAAgB,CAC7DC,UAAU,CAAEA,UAAW,CAACC,aAAa,CAAEA,aAAc,CACrDa,YAAY,CAAEA,YAAa,CAC5B,CAAC,cACFxB,IAAA,CAACH,WAAW,EAACO,QAAQ,CAAE4B,QAAS,CAAE,CAAC,CAClCA,QAAQ,CAACI,MAAM,CAAC,CAAC,eAAIpC,IAAA,CAACF,iBAAiB,EAACuC,OAAO,CAAEL,QAAQ,CAAC,CAAC,CAAE,CAAE,CAAC,EAC9D,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}