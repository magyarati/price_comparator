{"ast":null,"code":"// frontend/src/App.jsx\nimport React,{useState,useEffect}from'react';import axios from'axios';import Filters from'./components/Filters';import ProductList from'./components/ProductList';import PriceHistoryChart from'./components/PriceHistoryChart';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const[products,setProducts]=useState([]);const[store,setStore]=useState('');const[nameFilter,setNameFilter]=useState('');const[dateFilter,setDateFilter]=useState('');useEffect(()=>{const params=new URLSearchParams();if(store)params.append('store',store);if(dateFilter)params.append('date',dateFilter);axios.get(\"/api/products?\".concat(params.toString())).then(res=>setProducts(res.data)).catch(err=>console.error(err));},[store,dateFilter]);// Client-side filtering by product name\nconst filtered=products.filter(p=>p.name.toLowerCase().includes(nameFilter.toLowerCase()));return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl mb-4\",children:\"Price Comparator\"}),/*#__PURE__*/_jsx(Filters,{store:store,setStore:setStore,nameFilter:nameFilter,setNameFilter:setNameFilter,dateFilter:dateFilter,setDateFilter:setDateFilter}),/*#__PURE__*/_jsx(ProductList,{products:filtered}),filtered.length>0&&/*#__PURE__*/_jsx(PriceHistoryChart,{product:filtered[0]})]});}","map":{"version":3,"names":["React","useState","useEffect","axios","Filters","ProductList","PriceHistoryChart","jsx","_jsx","jsxs","_jsxs","App","products","setProducts","store","setStore","nameFilter","setNameFilter","dateFilter","setDateFilter","params","URLSearchParams","append","get","concat","toString","then","res","data","catch","err","console","error","filtered","filter","p","name","toLowerCase","includes","className","children","length","product"],"sources":["/Users/magyarattila/Documents/GitHub/price_comparator/frontend/src/App.jsx"],"sourcesContent":["// frontend/src/App.jsx\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Filters from './components/Filters';\nimport ProductList from './components/ProductList';\nimport PriceHistoryChart from './components/PriceHistoryChart';\n\nexport default function App() {\n  const [products, setProducts]       = useState([]);\n  const [store, setStore]             = useState('');\n  const [nameFilter, setNameFilter]   = useState('');\n  const [dateFilter, setDateFilter]   = useState('');\n\n  useEffect(() => {\n    const params = new URLSearchParams();\n    if (store)     params.append('store', store);\n    if (dateFilter) params.append('date', dateFilter);\n\n    axios\n      .get(`/api/products?${params.toString()}`)\n      .then(res => setProducts(res.data))\n      .catch(err => console.error(err));\n  }, [store, dateFilter]);\n\n  // Client-side filtering by product name\n  const filtered = products.filter(p =>\n    p.name.toLowerCase().includes(nameFilter.toLowerCase())\n  );\n\n  return (\n    <div className=\"p-4\">\n      <h1 className=\"text-xl mb-4\">Price Comparator</h1>\n\n      <Filters\n        store={store}\n        setStore={setStore}\n        nameFilter={nameFilter}\n        setNameFilter={setNameFilter}\n        dateFilter={dateFilter}\n        setDateFilter={setDateFilter}\n      />\n\n      <ProductList products={filtered} />\n\n      {filtered.length > 0 && (\n        <PriceHistoryChart product={filtered[0]} />\n      )}\n    </div>\n  );\n}\n"],"mappings":"AAAA;AAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,OAAO,KAAM,sBAAsB,CAC1C,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,iBAAiB,KAAM,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/D,cAAe,SAAS,CAAAC,GAAGA,CAAA,CAAG,CAC5B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAASZ,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAed,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACe,UAAU,CAAEC,aAAa,CAAC,CAAKhB,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACiB,UAAU,CAAEC,aAAa,CAAC,CAAKlB,QAAQ,CAAC,EAAE,CAAC,CAElDC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAkB,MAAM,CAAG,GAAI,CAAAC,eAAe,CAAC,CAAC,CACpC,GAAIP,KAAK,CAAMM,MAAM,CAACE,MAAM,CAAC,OAAO,CAAER,KAAK,CAAC,CAC5C,GAAII,UAAU,CAAEE,MAAM,CAACE,MAAM,CAAC,MAAM,CAAEJ,UAAU,CAAC,CAEjDf,KAAK,CACFoB,GAAG,kBAAAC,MAAA,CAAkBJ,MAAM,CAACK,QAAQ,CAAC,CAAC,CAAE,CAAC,CACzCC,IAAI,CAACC,GAAG,EAAId,WAAW,CAACc,GAAG,CAACC,IAAI,CAAC,CAAC,CAClCC,KAAK,CAACC,GAAG,EAAIC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC,CACrC,CAAC,CAAE,CAAChB,KAAK,CAAEI,UAAU,CAAC,CAAC,CAEvB;AACA,KAAM,CAAAe,QAAQ,CAAGrB,QAAQ,CAACsB,MAAM,CAACC,CAAC,EAChCA,CAAC,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACtB,UAAU,CAACqB,WAAW,CAAC,CAAC,CACxD,CAAC,CAED,mBACE3B,KAAA,QAAK6B,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBhC,IAAA,OAAI+B,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,kBAAgB,CAAI,CAAC,cAElDhC,IAAA,CAACJ,OAAO,EACNU,KAAK,CAAEA,KAAM,CACbC,QAAQ,CAAEA,QAAS,CACnBC,UAAU,CAAEA,UAAW,CACvBC,aAAa,CAAEA,aAAc,CAC7BC,UAAU,CAAEA,UAAW,CACvBC,aAAa,CAAEA,aAAc,CAC9B,CAAC,cAEFX,IAAA,CAACH,WAAW,EAACO,QAAQ,CAAEqB,QAAS,CAAE,CAAC,CAElCA,QAAQ,CAACQ,MAAM,CAAG,CAAC,eAClBjC,IAAA,CAACF,iBAAiB,EAACoC,OAAO,CAAET,QAAQ,CAAC,CAAC,CAAE,CAAE,CAC3C,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}