{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{ResponsiveContainer,LineChart,Line,XAxis,YAxis,CartesianGrid,Tooltip}from'recharts';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function PriceHistoryChart(_ref){let{product}=_ref;const[history,setHistory]=useState([]);useEffect(()=>{if(!product)return;axios.get('/api/products/history',{params:{store:product.store,name:product.name}}).then(res=>{const sorted=res.data.sort((a,b)=>new Date(a.date)-new Date(b.date));setHistory(sorted);}).catch(console.error);},[product]);if(!product)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold mb-2\",children:[\"Price History for \",product.name,\" at \",product.store]}),history.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No historical data available.\"}):/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(LineChart,{data:history,margin:{top:5,right:20,left:0,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"price\",dot:{r:3}})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","axios","ResponsiveContainer","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","jsxs","_jsxs","jsx","_jsx","PriceHistoryChart","_ref","product","history","setHistory","get","params","store","name","then","res","sorted","data","sort","a","b","Date","date","catch","console","error","className","children","length","width","height","margin","top","right","left","bottom","strokeDasharray","dataKey","type","dot","r"],"sources":["/Users/magyarattila/Documents/GitHub/price_comparator/frontend/src/components/PriceHistoryChart.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport {\n  ResponsiveContainer,\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n} from 'recharts';\n\nexport default function PriceHistoryChart({ product }) {\n  const [history, setHistory] = useState([]);\n\n  useEffect(() => {\n    if (!product) return;\n    axios\n      .get('/api/products/history', {\n        params: { store: product.store, name: product.name },\n      })\n      .then(res => {\n        const sorted = res.data.sort((a, b) => new Date(a.date) - new Date(b.date));\n        setHistory(sorted);\n      })\n      .catch(console.error);\n  }, [product]);\n\n  if (!product) return null;\n\n  return (\n    <div className=\"mt-6\">\n      <h2 className=\"text-lg font-semibold mb-2\">\n        Price History for {product.name} at {product.store}\n      </h2>\n      {history.length === 0 ? (\n        <p>No historical data available.</p>\n      ) : (\n        <ResponsiveContainer width=\"100%\" height={300}>\n          <LineChart data={history} margin={{ top: 5, right: 20, left: 0, bottom: 5 }}>\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis dataKey=\"date\" />\n            <YAxis />\n            <Tooltip />\n            <Line type=\"monotone\" dataKey=\"price\" dot={{ r: 3 }} />\n          </LineChart>\n        </ResponsiveContainer>\n      )}\n    </div>\n  );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OACEC,mBAAmB,CACnBC,SAAS,CACTC,IAAI,CACJC,KAAK,CACLC,KAAK,CACLC,aAAa,CACbC,OAAO,KACF,UAAU,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAElB,cAAe,SAAS,CAAAC,iBAAiBA,CAAAC,IAAA,CAAc,IAAb,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CACnD,KAAM,CAACE,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAE1CC,SAAS,CAAC,IAAM,CACd,GAAI,CAACe,OAAO,CAAE,OACdd,KAAK,CACFiB,GAAG,CAAC,uBAAuB,CAAE,CAC5BC,MAAM,CAAE,CAAEC,KAAK,CAAEL,OAAO,CAACK,KAAK,CAAEC,IAAI,CAAEN,OAAO,CAACM,IAAK,CACrD,CAAC,CAAC,CACDC,IAAI,CAACC,GAAG,EAAI,CACX,KAAM,CAAAC,MAAM,CAAGD,GAAG,CAACE,IAAI,CAACC,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,GAAI,CAAAC,IAAI,CAACF,CAAC,CAACG,IAAI,CAAC,CAAG,GAAI,CAAAD,IAAI,CAACD,CAAC,CAACE,IAAI,CAAC,CAAC,CAC3Eb,UAAU,CAACO,MAAM,CAAC,CACpB,CAAC,CAAC,CACDO,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC,CACzB,CAAC,CAAE,CAAClB,OAAO,CAAC,CAAC,CAEb,GAAI,CAACA,OAAO,CAAE,MAAO,KAAI,CAEzB,mBACEL,KAAA,QAAKwB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBzB,KAAA,OAAIwB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAC,oBACvB,CAACpB,OAAO,CAACM,IAAI,CAAC,MAAI,CAACN,OAAO,CAACK,KAAK,EAChD,CAAC,CACJJ,OAAO,CAACoB,MAAM,GAAK,CAAC,cACnBxB,IAAA,MAAAuB,QAAA,CAAG,+BAA6B,CAAG,CAAC,cAEpCvB,IAAA,CAACV,mBAAmB,EAACmC,KAAK,CAAC,MAAM,CAACC,MAAM,CAAE,GAAI,CAAAH,QAAA,cAC5CzB,KAAA,CAACP,SAAS,EAACsB,IAAI,CAAET,OAAQ,CAACuB,MAAM,CAAE,CAAEC,GAAG,CAAE,CAAC,CAAEC,KAAK,CAAE,EAAE,CAAEC,IAAI,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAE,CAAE,CAAAR,QAAA,eAC1EvB,IAAA,CAACL,aAAa,EAACqC,eAAe,CAAC,KAAK,CAAE,CAAC,cACvChC,IAAA,CAACP,KAAK,EAACwC,OAAO,CAAC,MAAM,CAAE,CAAC,cACxBjC,IAAA,CAACN,KAAK,GAAE,CAAC,cACTM,IAAA,CAACJ,OAAO,GAAE,CAAC,cACXI,IAAA,CAACR,IAAI,EAAC0C,IAAI,CAAC,UAAU,CAACD,OAAO,CAAC,OAAO,CAACE,GAAG,CAAE,CAAEC,CAAC,CAAE,CAAE,CAAE,CAAE,CAAC,EAC9C,CAAC,CACO,CACtB,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}